<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Application Evaluation - Codex Style</title>
<style>
:root {
  --orange: #f97316;
  --teal: #14b8a6;
  --bg: #fffbf5;
  --card: #ffffff;
  --text: #0f172a;
  --muted: #64748b;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: linear-gradient(135deg, #fff5ed 0%, #f0fdfa 100%);
  min-height: 100vh;
  padding: 20px;
}
.container {
  max-width: 700px;
  margin: 0 auto;
  background: var(--card);
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.15);
  border: 1px solid rgba(249,115,22,0.1);
}
h1 {
  color: var(--text);
  font-size: 28px;
  margin-bottom: 8px;
}
.subtitle {
  color: var(--muted);
  margin-bottom: 30px;
}
label {
  display: block;
  color: var(--text);
  font-weight: 600;
  margin-bottom: 6px;
  font-size: 14px;
}
input, textarea {
  width: 100%;
  padding: 12px;
  border: 2px solid #e2e8f0;
  border-radius: 10px;
  font-size: 15px;
  font-family: inherit;
  margin-bottom: 16px;
  transition: border 0.2s;
}
input:focus, textarea:focus {
  outline: none;
  border-color: var(--orange);
}
textarea {
  min-height: 70px;
  resize: vertical;
}
button {
  width: 100%;
  padding: 14px;
  background: linear-gradient(135deg, var(--orange), #dc2626);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s;
}
button:hover { transform: translateY(-2px); }
button:disabled { opacity: 0.6; cursor: not-allowed; }
.loading {
  display: none;
  text-align: center;
  padding: 40px;
}
.loading.active { display: block; }
.spinner {
  border: 4px solid #fef3c7;
  border-top: 4px solid var(--orange);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.result {
  display: none;
  margin-top: 30px;
  padding: 25px;
  background: linear-gradient(135deg, #fff7ed, #fef3c7);
  border-radius: 12px;
  border-left: 4px solid var(--orange);
}
.result.active { display: block; }
.result h2 {
  color: #9a3412;
  margin-bottom: 15px;
  font-size: 22px;
}
.result-content {
  color: #7c2d12;
  line-height: 1.7;
  white-space: pre-wrap;
}
.error {
  background: #fee2e2;
  color: #991b1b;
  padding: 15px;
  border-radius: 8px;
  margin-top: 15px;
}
</style>
</head>
<body>
<div class="container">
  <h1>ðŸ“Š Application Evaluation</h1>
  <p class="subtitle">Codex Data-Driven Approach</p>
  
  <form id="evalForm">
    <label>Name</label>
    <input type="text" name="name" value="Sarah Chen" required>
    
    <label>Email</label>
    <input type="email" name="email" value="sarah.chen@test.adavauniversity.org" required>
    
    <label>Background (be specific)</label>
    <textarea name="background" required>I'm a 5th grade teacher (8 years) but want to transition to ed-tech. I've seen too many students with dyslexia struggle with terrible learning apps.</textarea>
    
    <label>Dream Project</label>
    <textarea name="dreamProject" required>A reading app for dyslexic students with adjustable fonts, text-to-speech, and progress tracking for teachers.</textarea>
    
    <label>Unique Skill</label>
    <textarea name="uniqueSkill" required>I've designed 500+ individualized lesson plans for students with learning disabilities. I know what makes content accessible.</textarea>
    
    <label>Biggest Fear</label>
    <input type="text" name="biggestFear" value="That I'm too old to switch careers (34) or can't compete with CS grads." required>
    
    <label>OpenAI API Key</label>
    <input type="password" id="apiKey" placeholder="sk-proj-..." required>
    
    <button type="submit">Analyze My Profile</button>
  </form>
  
  <div class="loading" id="loading">
    <div class="spinner"></div>
    <p>Running data-driven analysis...</p>
  </div>
  
  <div class="result" id="result">
    <h2>ðŸ“ˆ Your Data Analysis</h2>
    <div class="result-content" id="resultContent"></div>
  </div>
</div>

<script>
const form = document.getElementById('evalForm');
const loading = document.getElementById('loading');
const result = document.getElementById('result');
const resultContent = document.getElementById('resultContent');
const apiKeyInput = document.getElementById('apiKey');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  
  const formData = new FormData(form);
  const data = Object.fromEntries(formData.entries());
  const apiKey = apiKeyInput.value.trim();
  
  form.style.display = 'none';
  loading.classList.add('active');
  result.classList.remove('active');

  const prompt = `Applicant: ${data.name}\nEmail: ${data.email}\n\nBackground: ${data.background}\n\nDream Project: ${data.dreamProject}\n\nUnique Skill: ${data.uniqueSkill}\n\nBiggest Fear: ${data.biggestFear}`;

  try {
    const response = await fetch('https://api.openai.com/v1/chat/completions', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${apiKey}`
      },
      body: JSON.stringify({
        model: 'gpt-4',
        temperature: 0.7,
        max_tokens: 300,
        messages: [
          {
            role: 'system',
            content: 'You are a data-driven analyst. Give Sarah a fit score (0-100). Quantify how her teaching skills transfer to product design (use percentages). Name specific ed-tech companies hiring. Provide salary range for product roles. Give concrete next steps. Be precise and credible with numbers. 200 words max.'
          },
          {
            role: 'user',
            content: prompt
          }
        ]
      })
    });

    const json = await response.json();
    
    if (json.error) throw new Error(json.error.message);

    loading.classList.remove('active');
    result.classList.add('active');
    resultContent.textContent = json.choices[0].message.content;

  } catch (error) {
    loading.classList.remove('active');
    result.classList.add('active');
    resultContent.innerHTML = `<div class="error">Error: ${error.message}</div>`;
  }
});
</script>
</body>
</html>