<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application - Adava University</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
    <link rel="icon" type="image/png" href="../images/favicon.png">
    <link rel="apple-touch-icon" href="../images/favicon.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    
    <!-- Vue Components (must load AFTER Vue but BEFORE app.js) -->
    <script src="../js/component-loader.js"></script>
</head>
<body>
    <div id="app">
        <!-- Sticky Urgency Header -->
        <div class="sticky-urgency-bar" v-show="showStickyBar">
            <div class="sticky-content">
                <span class="sticky-icon"><i class="fas fa-exclamation-circle"></i></span>
                <span class="sticky-text">
                    <strong>{{ spotsRemaining }} Seats Left</strong> in February Cohort · Applications close in 2 days
                </span>
                <button class="sticky-btn" @click="scrollToPayment">Secure Spot Now</button>
            </div>
        </div>

        <div class="app-container">
            <!-- Scarcity Bar Component -->
            <scarcity-bar :spots-remaining="spotsRemaining"></scarcity-bar>

            <!-- Header -->
            <div class="app-header">
                <div class="logo">
                    <img src="../images/adava-a-icon.png" alt="Adava" class="logo-icon">
                    <img src="../images/adava-text.png" alt="ADAVA UNIVERSITY" class="logo-text-img">
                </div>
                <h1>Application for Admission</h1>
                <p class="subtitle">10-Day AI Coding Program · Taught by Engineers & Researchers from MIT • Stanford • Oxford • Cambridge • Harvard</p>
            </div>

            <!-- Progress - Sticky at top -->
            <div class="progress-container" :class="{ 'at-top': !showStickyBar }">
                <div class="progress-bar">
                    <div class="progress-fill" :style="{ width: progress + '%' }"></div>
                </div>
                <p class="progress-text">
                    {{ progressMessage }}
                </p>
            </div>

            <!-- Form -->
            <form class="app-form" @submit.prevent="submitApplication" v-if="!submitted">
                <!-- Basic Info - Always Visible -->
                <div class="form-section" data-section="basic" v-show="sections.basic">
                    <h2 class="section-title"><i class="fas fa-user"></i> Basic Information</h2>
                    <p class="section-description">Let's start with the essentials</p>

                    <div class="form-group">
                        <label for="form-name">Full Name</label>
                        <input id="form-name" type="text" v-model="form.name" required placeholder="Jane Smith" @input="updateProgress">
                    </div>

                    <div class="form-group">
                        <label for="form-email">Email</label>
                        <input id="form-email" type="email" v-model="form.email" required placeholder="jane@example.com" @input="updateProgress">
                    </div>

                    <div class="form-group">
                        <label for="form-phone">Phone</label>
                        <input id="form-phone" type="tel" v-model="form.phone" required placeholder="+1 (555) 000-0000" @input="updateProgress">
                    </div>
                    
                    <button type="button" class="continue-btn" 
                            @click="completeSection('basic')" 
                            :disabled="!isSectionComplete('basic')"
                            v-if="!sections.background">
                        Continue <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <!-- Background - Revealed after Basic -->
                <div class="form-section" data-section="background" v-show="sections.background">
                    <h2 class="section-title"><i class="fas fa-briefcase"></i> Your Background</h2>
                    <p class="section-description">Helps us customize your experience</p>

                    <div class="form-group">
                        <label for="form-background">Current Status</label>
                        <select id="form-background" v-model="form.background" required @change="updateProgress">
                            <option value="">Select...</option>
                            <option value="student">Student</option>
                            <option value="professional">Working professional</option>
                            <option value="career-changer">Switching careers</option>
                            <option value="entrepreneur">Entrepreneur/Founder</option>
                            <option value="freelancer">Freelancer</option>
                            <option value="other">Other</option>
                        </select>
                        <small class="field-helper">We've trained professionals, students, and career-changers successfully. Your background helps us customize your path.</small>
                    </div>

                    <div class="form-group">
                        <label for="form-experience">Coding Experience</label>
                        <select id="form-experience" v-model="form.experience" required @change="updateProgress">
                            <option value="">Select...</option>
                            <option value="never">Never written code</option>
                            <option value="tried">Tried tutorials before</option>
                            <option value="some">Know basics</option>
                            <option value="intermediate">Can build simple apps</option>
                            <option value="advanced">Professional developer</option>
                        </select>
                        <small class="field-helper">60% of our students start from zero. Those with experience learn to build 10x faster with AI.</small>
                    </div>

                    <div class="form-group">
                        <label for="form-aitools">Which AI coding tools have you used? (Select all that apply)</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-cursor" v-model="form.aiTools" value="cursor" @change="updateProgress">
                                <label for="tool-cursor">Cursor</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-claude" v-model="form.aiTools" value="claude" @change="updateProgress">
                                <label for="tool-claude">Claude (Anthropic)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-gpt" v-model="form.aiTools" value="gpt-codex" @change="updateProgress">
                                <label for="tool-gpt">GPT-4 / Codex</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-lovable" v-model="form.aiTools" value="lovable" @change="updateProgress">
                                <label for="tool-lovable">Lovable.dev</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-v0" v-model="form.aiTools" value="v0" @change="updateProgress">
                                <label for="tool-v0">v0.dev (Vercel)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-replit" v-model="form.aiTools" value="replit" @change="updateProgress">
                                <label for="tool-replit">Replit AI</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-windsurf" v-model="form.aiTools" value="windsurf" @change="updateProgress">
                                <label for="tool-windsurf">Windsurf (Codeium)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-bolt" v-model="form.aiTools" value="bolt" @change="updateProgress">
                                <label for="tool-bolt">Bolt.new (StackBlitz)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tool-none" v-model="form.aiTools" value="none" @change="updateProgress">
                                <label for="tool-none">Never used AI for coding</label>
                            </div>
                        </div>
                        <small class="field-helper">We'll teach you ALL these tools from scratch. Checking "never used" is fine - you'll be ahead of 99% of developers after graduation.</small>
                    </div>
                    
                    <button type="button" class="continue-btn" 
                            @click="completeSection('background')" 
                            :disabled="!isSectionComplete('background')"
                            v-if="!sections.goals">
                        Continue <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <div class="future-pacing" v-show="sections.background">
                    <h4>Picture This: 6 Months From Now</h4>
                    <p>You're building apps with AI, working remotely, earning top salary. It started with 10 days and $590.</p>
                </div>

                <!-- Goals -->
                <div class="form-section" data-section="goals" v-show="sections.goals">
                    <h2 class="section-title"><i class="fas fa-bullseye"></i> Your Goals</h2>
                    <p class="section-description">Let's make this real</p>

                    <div class="form-group">
                        <label for="form-goal">Primary Goal</label>
                        <select id="form-goal" v-model="form.goal" required @change="updateProgress">
                            <option value="">Select...</option>
                            <option value="job">Get a tech job</option>
                            <option value="career-switch">Switch careers into tech</option>
                            <option value="level-up">Level up my skills</option>
                            <option value="startup">Build my own product/startup</option>
                            <option value="freelance">Start freelancing</option>
                            <option value="automate">Automate my current job</option>
                            <option value="curiosity">Personal growth</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="form-motivation">Why are you applying now, and not before or in the future?</label>
                        <textarea id="form-motivation" v-model="form.motivation" required placeholder="e.g., Career change, need new skills for current role, want to build a product..." @input="updateProgress"></textarea>
                        <small class="field-helper">Be specific about your timing and goals. Most accepted applicants write 2-3 sentences about their current situation and what they want to achieve.</small>
                    </div>

                    <div class="form-group">
                        <label for="form-dream-project">If you could build ANY app/product in 10 days, what would it be?</label>
                        <textarea id="form-dream-project" v-model="form.dreamProject" required placeholder="Describe your dream project. Be creative! What problem would it solve? Who would use it?" @input="updateProgress" rows="3"></textarea>
                        <small class="field-helper">We'll help you build something real during the program. The weirder/more creative, the better!</small>
                    </div>

                    <div class="form-group">
                        <label for="form-unique-skill">What's one unique skill, hobby, or interest you have that most people don't?</label>
                        <textarea id="form-unique-skill" v-model="form.uniqueSkill" required placeholder="e.g., I can juggle fire, I speak 5 languages, I'm a competitive chess player, I collect vintage synthesizers..." @input="updateProgress" rows="2"></textarea>
                        <small class="field-helper">This helps us personalize your learning path and connect you with like-minded people.</small>
                    </div>

                    <button type="button" class="continue-btn" 
                            @click="completeSection('goals')" 
                            :disabled="!isSectionComplete('goals')"
                            v-if="!sections.commitment">
                        Continue <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <!-- Commitment -->
                <div class="form-section" data-section="commitment" v-show="sections.commitment">
                    <h2 class="section-title"><i class="fas fa-calendar-check"></i> Time Commitment</h2>
                    <p class="section-description">2 hours/day for 10 days</p>

                    <div class="form-group">
                        <label for="form-commitment">Live Session Attendance</label>
                        <select id="form-commitment" v-model="form.commitment" required @change="updateProgress">
                            <option value="">Select...</option>
                            <option value="yes-all">Yes, I can attend all sessions</option>
                            <option value="yes-most">Yes, most sessions</option>
                            <option value="flexible">Need to watch recordings</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="form-source">How did you find us?</label>
                        <select id="form-source" v-model="form.source" required @change="updateProgress">
                            <option value="">Select...</option>
                            <option value="google">Google search</option>
                            <option value="social">Social media</option>
                            <option value="friend">Friend/family referral</option>
                            <option value="ad">Advertisement</option>
                            <option value="youtube">YouTube</option>
                            <option value="linkedin">LinkedIn</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <button type="button" class="continue-btn" 
                            @click="completeSection('commitment')" 
                            :disabled="!isSectionComplete('commitment')"
                            v-if="!sections.professional">
                        Continue <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <!-- Personalized Strength Preview -->
                <div class="strength-preview" v-show="sections.commitment && form.goal && form.experience">
                    <div class="preview-header">
                        <i class="fas fa-chart-line"></i>
                        <h4>Your Application Strength</h4>
                    </div>
                    <div class="strength-bars">
                        <div class="strength-item">
                            <span class="strength-label">Motivation & Clarity</span>
                            <div class="strength-bar">
                                <div class="strength-fill" :style="{width: motivationScore + '%'}"></div>
                            </div>
                            <span class="strength-value">{{ motivationScore }}%</span>
                        </div>
                        <div class="strength-item">
                            <span class="strength-label">Experience Level</span>
                            <div class="strength-bar">
                                <div class="strength-fill" :style="{width: experienceScore + '%'}"></div>
                            </div>
                            <span class="strength-value">{{ experienceScore }}%</span>
                        </div>
                        <div class="strength-item">
                            <span class="strength-label">Time Commitment</span>
                            <div class="strength-bar">
                                <div class="strength-fill" :style="{width: commitmentScore + '%'}"></div>
                            </div>
                            <span class="strength-value">{{ commitmentScore }}%</span>
                        </div>
                    </div>
                    <div class="strength-footer" v-if="overallScore >= 80">
                        <i class="fas fa-check-circle"></i>
                        <span>Strong candidate profile! Your responses show {{ overallScore }}% alignment with successful graduates.</span>
                    </div>
                    <div class="strength-footer warning" v-else-if="overallScore >= 60">
                        <i class="fas fa-exclamation-circle"></i>
                        <span>Good start! Adding more detail to your responses will strengthen your application.</span>
                    </div>
                </div>

                <!-- Optional Professional Fields -->
                <div class="form-section optional-section" data-section="professional" v-show="sections.professional">
                    <h2 class="section-title">
                        <i class="fas fa-star"></i> Strengthen Your Application 
                        <span class="optional-badge">Optional</span>
                    </h2>
                    <p class="section-description">Not required, but applicants who include these details have higher acceptance rates.</p>

                    <div class="form-group">
                        <label for="form-linkedin">
                            LinkedIn Profile 
                            <span class="optional-label">(Recommended)</span>
                        </label>
                        <input type="url" id="form-linkedin" v-model="form.linkedin" placeholder="https://linkedin.com/in/yourname" @input="updateProgress">
                        <small class="field-helper">Helps us understand your professional background and career trajectory.</small>
                    </div>

                    <div class="form-group">
                        <label for="form-portfolio">
                            Portfolio / GitHub 
                            <span class="optional-label">(Optional)</span>
                        </label>
                        <input type="url" id="form-portfolio" v-model="form.portfolio" placeholder="https://github.com/yourname or your portfolio URL" @input="updateProgress">
                        <small class="field-helper">Show us any past work (coding projects, designs, writing, or other creative work).</small>
                    </div>

                    <div class="form-group">
                        <label for="form-website">
                            Personal Website 
                            <span class="optional-label">(Optional)</span>
                        </label>
                        <input type="url" id="form-website" v-model="form.website" placeholder="https://yourwebsite.com" @input="updateProgress">
                        <small class="field-helper">Your blog, portfolio site, or professional website.</small>
                    </div>

                    <button type="button" class="continue-btn" 
                            @click="completeSection('professional')" 
                            v-if="!sections.payment">
                        Continue to Application Processing <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <!-- Payment -->
                <div class="payment-section" data-section="payment" v-show="sections.payment">
                    <h2><i class="fas fa-lock"></i> Application Fee: $10</h2>
                    
                    <div class="cost-breakdown">
                        <p class="breakdown-line"><strong>Total Program Cost:</strong> $590</p>
                        <p class="breakdown-line"><strong>You Pay Now:</strong> $10 (application review)</p>
                        <p class="breakdown-line"><strong>You Pay If Accepted:</strong> $580 (to reserve spot)</p>
                        <p class="breakdown-note"> This $10 will be deducted from the $590 total</p>
                        <p class="breakdown-note"> Fully refundable if not admitted</p>
                    </div>

                    <div class="form-group">
                        <label for="form-card">Card Number</label>
                        <input id="form-card" type="text" v-model="form.cardNumber" required placeholder="4242 4242 4242 4242" maxlength="19" @input="updateProgress">
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label for="form-expiry">Expiry</label>
                            <input id="form-expiry" type="text" v-model="form.expiry" required placeholder="MM/YY" maxlength="5" @input="updateProgress">
                        </div>
                        <div class="form-group">
                            <label for="form-cvc">CVC</label>
                            <input id="form-cvc" type="text" v-model="form.cvc" required placeholder="123" maxlength="4" @input="updateProgress">
                        </div>
                    </div>

                    <button type="submit" class="submit-btn" :disabled="!isComplete">
                        <i class="fas fa-paper-plane"></i> Submit Application - $10
                    </button>
                    
                    <div class="security-badges">
                        <span><i class="fas fa-lock"></i> 256-bit SSL</span>
                        <span><i class="fas fa-shield-alt"></i> Bank-Level Security</span>
                        <span><i class="fas fa-undo"></i> Refundable if not admitted</span>
                    </div>
                </div>
            </form>

            <!-- Exit Intent Popup -->
            <div class="exit-intent-modal" v-if="showExitIntent" @click.self="showExitIntent = false">
                <div class="exit-modal-content">
                    <button class="exit-modal-close" @click="showExitIntent = false">
                        <i class="fas fa-times"></i>
                    </button>
                    
                    <h2><i class="fas fa-hand-paper"></i> Wait! Before You Go...</h2>
                    
                    <div class="exit-testimonial">
                        <p class="exit-quote">"I was about to close the tab too. Best decision I made was completing this application. Now I'm at Tesla making $145K."</p>
                        <p class="exit-author">Marcus J., Mechanical Engineer -> Software Developer</p>
                    </div>
                    
                    <div class="exit-reminder">
                        <h3>Remember:</h3>
                        <ul>
                            <li><i class="fas fa-check-circle"></i> Only $10 to apply</li>
                            <li><i class="fas fa-check-circle"></i> Fully refundable if not admitted</li>
                            <li><i class="fas fa-check-circle"></i> Zero risk to you</li>
                            <li><i class="fas fa-check-circle"></i> 3 spots left in February cohort</li>
                        </ul>
                    </div>
                    
                    <button class="exit-cta-btn" @click="showExitIntent = false">
                        <i class="fas fa-arrow-left"></i> Continue My Application
                    </button>
                    
                    <p class="exit-disclaimer">Most accepted applicants complete the form in under 10 minutes</p>
                </div>
            </div>

            <!-- Social Proof Ping -->
            <div class="social-proof-ping" v-if="showPing">
                <div class="ping-content">
                    <div class="ping-avatar">{{ currentPing.initials }}</div>
                    <div class="ping-text">
                        <div class="ping-name">{{ currentPing.name }}</div>
                        <div class="ping-action">{{ currentPing.action }}</div>
                        <div class="ping-urgency">{{ currentPing.urgency }}</div>
                    </div>
                </div>
            </div>

            <!-- Loading -->
            <div class="loading-overlay" v-if="loading">
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Processing Your Application...</div>
                    <p class="loading-subtext">Evaluating program fit</p>
                </div>
            </div>

            <!-- Result -->
            <div class="qualification-result" v-if="qualificationMessage">
                <h3><i class="fas fa-check-circle"></i> Excellent! Strong Application</h3>
                <p v-html="qualificationMessage"></p>
                
                <div class="next-steps">
                    <h4>What Happens Next:</h4>
                    <ul>
                        <li>Confirmation email sent to {{ form.email }}</li>
                        <li>Committee review within 24 to 48 hours</li>
                        <li>Decision notification via email</li>
                        <li>If admitted: 7-day window to pay $590 tuition</li>
                        <li>If not admitted: Automatic $10 refund</li>
                        <li>Cohort begins {{ cohort || 'February 3rd, 2026' }}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="../js/state-manager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
