<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserve Your Spot - Adava University</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
    <link rel="icon" type="image/png" href="../images/favicon.png">
    <link rel="apple-touch-icon" href="../images/favicon.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../css/components.css?v=3e6f418">
    <link rel="stylesheet" href="../css/reservation.css?v=3e6f418">
    <link rel="stylesheet" href="../css/components/exit-popup.css?v=3e6f418">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css?v=3e6f418">
    
    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js?v=3e6f418"></script>
    
    <!-- Vue Component Loader -->
    <script src="../js/component-loader.js?v=3e6f418"></script>
</head>
<body>
    <!-- Geometric network background -->
    <canvas id="network-bg"></canvas>
    
    <div id="app">
        <!-- Exit Popup Component -->
        <exit-popup :content="exitPopupContent"></exit-popup>
        
        <!-- Scarcity Bar -->
        <div class="scarcity-bar" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: white; padding: 12px 20px; text-align: center;">
            <strong><i class="fas fa-exclamation-circle"></i> 3 Seats Remaining in February Cohort</strong>
            <span style="margin-left: 15px; opacity: 0.9;">Applications close in 2 days</span>
            <small style="display: block; margin-top: 5px; font-size: 0.9em;">3 of 30 seats left</small>
        </div>
        
        <!-- Header -->
        <div class="reservation-header">
            <div class="header-content">
                <div class="logo">
                    <img src="../images/adava-a-icon.png" alt="Adava" class="logo-icon">
                    <img src="../images/adava-text.png" alt="ADAVA UNIVERSITY" class="logo-text-img">
                </div>
                <h1>Complete Your Reservation</h1>
            </div>
        </div>

        <div class="reservation-container">
            
            <!-- Comparison Table Component (NEW - Price Anchoring) -->
            <comparison-table></comparison-table>
            
            <!-- Value Stack Component (Full Program Value) -->
            <value-stack></value-stack>
            
            <!-- Bonus Stack Component -->
            <bonus-stack></bonus-stack>
            
            <!-- What You'll Build Component (NEW - Tangible Outputs) -->
            <what-youll-build></what-youll-build>
            
            <!-- Testimonial Carousel Component -->
            <testimonial-carousel></testimonial-carousel>
            
            <!-- FAQ Section Component (MOVED - Above Payment) -->
            <faq-section :faq-open="faqOpen" :toggle-faq="toggleFaq"></faq-section>
            
            <!-- Prominent Guarantee Box (Before Payment) -->
            <div class="prominent-guarantee-box">
                <div class="guarantee-icon">
                    <i class="fas fa-shield-check"></i>
                </div>
                <div class="guarantee-content">
                    <h3>100% Money-Back Guarantee</h3>
                    <p>Complete the entire program. If you don't feel it was worth every penny, we'll refund your full $590. No questions asked. No hoops to jump through.</p>
                    <p class="guarantee-note"><i class="fas fa-check-circle"></i> Most graduates say this program was worth 10x the price</p>
                </div>
            </div>

            <!-- Payment Section (Simplified - Uses Saved Card) -->
            <section class="final-payment-section">
                <div class="payment-container">
                    <h2><i class="fas fa-lock"></i> Confirm Your Reservation</h2>
                    
                    <div class="payment-summary">
                        <div class="payment-row">
                            <span>Application Fee</span>
                            <span class="paid">$10.00 <i class="fas fa-check-circle"></i> Paid</span>
                        </div>
                        <div class="payment-row total">
                            <span>Remaining Program Fee</span>
                            <span class="amount">$580.00</span>
                        </div>
                        <div class="payment-row final-total">
                            <span><strong>Total Program Cost</strong></span>
                            <span class="amount"><strong>$590.00</strong></span>
                        </div>
                    </div>

                    <div class="saved-card-info">
                        <i class="fas fa-credit-card"></i>
                        <span>Card ending in 4242</span>
                        <a href="#" @click.prevent="changeCard = true" class="change-card-link">Change payment method</a>
                    </div>

                    <form class="payment-form" @submit.prevent="submitPayment" v-if="!changeCard">
                        <button type="submit" class="submit-payment-btn" :disabled="isProcessing">
                            <i class="fas fa-lock"></i>
                            <span v-if="!isProcessing">Confirm & Pay $580</span>
                            <span v-else>Processing...</span>
                        </button>
                        
                        <p class="payment-security">
                            <i class="fas fa-shield-alt"></i> 256-bit SSL encryption • Bank-level security
                        </p>
                    </form>

                    <!-- Change Card Form (Hidden by default) -->
                    <form class="payment-form" @submit.prevent="submitPayment" v-if="changeCard">
                        <div class="form-group">
                            <label for="card-number">Card Number</label>
                            <input 
                                id="card-number" 
                                type="text" 
                                v-model="cardNumber"
                                placeholder="4242 4242 4242 4242" 
                                maxlength="19"
                                required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expiry">Expiry Date</label>
                                <input 
                                    id="expiry"
                                    type="text" 
                                    v-model="expiry"
                                    placeholder="MM/YY" 
                                    maxlength="5"
                                    required>
                            </div>
                            <div class="form-group">
                                <label for="cvc">CVC</label>
                                <input 
                                    id="cvc"
                                    type="text" 
                                    v-model="cvc"
                                    placeholder="123" 
                                    maxlength="4"
                                    required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="billing-zip">Billing ZIP Code</label>
                            <input 
                                id="billing-zip"
                                type="text" 
                                v-model="billingZip"
                                placeholder="10001" 
                                maxlength="10"
                                required>
                        </div>

                        <button type="submit" class="submit-payment-btn" :disabled="isProcessing">
                            <i class="fas fa-lock"></i>
                            <span v-if="!isProcessing">Confirm & Pay $580</span>
                            <span v-else>Processing...</span>
                        </button>
                        
                        <p class="payment-security">
                            <i class="fas fa-shield-alt"></i> 256-bit SSL encryption • Bank-level security
                        </p>
                    </form>

                    <div class="trust-signals">
                        <div class="trust-item">
                            <i class="fas fa-infinity"></i>
                            <span>Lifetime Access</span>
                        </div>
                        <div class="trust-item">
                            <i class="fas fa-users"></i>
                            <span>Join 500+ Graduates</span>
                        </div>
                        <div class="trust-item">
                            <i class="fas fa-briefcase"></i>
                            <span>Job Support Included</span>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Success Modal -->
        <div class="success-modal" v-if="showSuccess">
            <div class="success-content">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2> Reservation Confirmed!</h2>
                <p>Welcome to Adava University! You're all set for the February 3rd, 2026 cohort.</p>
                <div class="success-details">
                    <p><strong>Confirmation email sent to:</strong> your email</p>
                    <p><strong>Program starts:</strong> February 3rd, 2026</p>
                    <p><strong>First class:</strong> Monday, 6:00 PM ET</p>
                </div>
                <button @click="closeSuccess" class="success-btn">
                    View Dashboard <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="../js/reservation.js?v=3e6f418"></script>
    
    <script>
        // Network background animation
        const canvas = document.getElementById('network-bg');
        if (canvas) {
            const ctx = canvas.getContext('2d');

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight * 3;
            }
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            const particles = [];
            const particleCount = 150; // Dense network
            const connectionDistance = 250; // Long connections for web-like effect
            const mouseRadius = 200; // Large mouse interaction radius

            let mouse = { x: null, y: null };
            
            document.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
            });

            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 0.6,
                    vy: (Math.random() - 0.5) * 0.6,
                    size: Math.random() * 4 + 3, // 3-7px particles - more visible!
                    baseSize: Math.random() * 4 + 3
                });
            }

            function drawNetwork() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Draw connections - MUCH more visible now
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const dx = particles[i].x - particles[j].x;
                        const dy = particles[i].y - particles[j].y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        
                        if (dist < connectionDistance) {
                            // Opacity fades with distance - higher base opacity
                            const opacity = 0.6 * (1 - dist / connectionDistance);
                            ctx.beginPath();
                            ctx.strokeStyle = `rgba(139, 92, 246, ${opacity})`;
                            ctx.lineWidth = 2; // Thicker lines
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.stroke();
                        }
                    }
                    
                    // Connect to mouse if nearby - creates interactive web
                    if (mouse.x && mouse.y) {
                        const dx = particles[i].x - mouse.x;
                        const dy = particles[i].y - mouse.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        
                        if (dist < mouseRadius) {
                            const opacity = 0.8 * (1 - dist / mouseRadius);
                            ctx.beginPath();
                            ctx.strokeStyle = `rgba(20, 184, 166, ${opacity})`; // Bright teal for mouse
                            ctx.lineWidth = 2.5;
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(mouse.x, mouse.y);
                            ctx.stroke();
                            
                            // Particles grow when near mouse
                            particles[i].size = particles[i].baseSize * (1.8 - dist / mouseRadius * 0.8);
                        } else {
                            particles[i].size = particles[i].baseSize;
                        }
                    }
                }
                
                // Draw particles with glow effect - MORE VISIBLE
                for (const p of particles) {
                    // Outer glow
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size * 3, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(139, 92, 246, 0.1)';
                    ctx.fill();
                    
                    // Middle glow
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size * 1.5, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(139, 92, 246, 0.3)';
                    ctx.fill();
                    
                    // Core - bright and visible
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(167, 139, 250, 0.9)'; // Brighter purple
                    ctx.fill();
                    
                    p.x += p.vx;
                    p.y += p.vy;
                    
                    if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                    if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
                }
                
                requestAnimationFrame(drawNetwork);
            }
            drawNetwork();
        }
    </script>
    
    <!-- Exit Popup Component -->
    <script src="../js/components/exit-popup.js?v=3e6f418"></script>
    
    <!-- State Manager -->
    <script src="../js/state-manager.js?v=3e6f418"></script>
    
    <!-- Reservation Logic -->
    <script src="../js/reservation.js?v=3e6f418"></script>
</body>
</html>
